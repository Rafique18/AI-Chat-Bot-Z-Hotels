{
  "name": "AI chat Bot",
  "nodes": [
    {
      "parameters": {
        "options": {
          "systemMessage": "=\nINSTRUCTIONS:\n-You are a great and helpful intelligent website chatbot forZ Hotels Holborn. The current date is {{ $now.format('dd-MM-yyyy') }}. You are a male and your name is Z-Bot. You are a happy and joyful bot.\n\n-Initially before answering any question, read the google sheets read tool thoroughly and then answer. You have to answer questions related to Z Hotels Holborn only.\n\n- Your main objective is to read through the google sheets and provide an answer that matches your style and it is not necessary to copy and paste the same content from the google sheets read tool.\n\n-Question which are not in the google sheets read tool can also be answered using your AI knowledge.\n\n-Please reply the answers politely showing good customer service.\n\n- Check if any question asked is in the google sheets read tool. If the question is new and not present in the google sheets read tool, add the question asked, answer given, and keywords to the Google sheets append or update row tool.\n\n- If you are unable to find an answer or answer is not found, say: \"Iâ€™m not sure, let me connect you to a human agent.\""
        }
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 1.7,
      "position": [
        -340,
        -60
      ],
      "id": "310ef73c-457d-4c72-822e-63ad3afce17c",
      "name": "AI Agent"
    },
    {
      "parameters": {
        "model": {
          "__rl": true,
          "value": "gpt-4o-mini",
          "mode": "list",
          "cachedResultName": "gpt-4o-mini"
        },
        "options": {
          "responseFormat": "text"
        }
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "typeVersion": 1.2,
      "position": [
        -440,
        160
      ],
      "id": "73fd4be5-3044-43ea-87af-61d6cdc76070",
      "name": "OpenAI Chat Model",
      "credentials": {
        "openAiApi": {
          "id": "i6glQqOm2zdNL0Sr",
          "name": "RAFIQUE AI"
        }
      },
      "notes": " Please go through the google sheets and provide answers."
    },
    {
      "parameters": {},
      "type": "@n8n/n8n-nodes-langchain.memoryBufferWindow",
      "typeVersion": 1.3,
      "position": [
        -240,
        160
      ],
      "id": "39e093f8-7930-4335-a402-d72a9461d6af",
      "name": "Window Buffer Memory"
    },
    {
      "parameters": {
        "operation": "appendOrUpdate",
        "documentId": {
          "__rl": true,
          "value": "1yFO23H-X-uAJob9JwsyHWohBWSYpOBN9uqbTxrhyHYY",
          "mode": "list",
          "cachedResultName": "FAQs- Z HOTELS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1yFO23H-X-uAJob9JwsyHWohBWSYpOBN9uqbTxrhyHYY/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": "gid=0",
          "mode": "list",
          "cachedResultName": "Sheet1",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1eM-xBBZpsZKUCOz8v8xIYennaZbRg_Vuob-sWTmRGVk/edit#gid=0"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "Question": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Question__using_to_match_', ``, 'string') }}",
            "Answer": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Answer', ``, 'string') }}",
            "Keywords": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Keywords', ``, 'string') }}"
          },
          "matchingColumns": [
            "Question"
          ],
          "schema": [
            {
              "id": "Question",
              "displayName": "Question",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Answer",
              "displayName": "Answer",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "Keywords",
              "displayName": "Keywords",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheetsTool",
      "typeVersion": 4.5,
      "position": [
        120,
        160
      ],
      "id": "4e83a8fd-d115-4fcd-a887-b22a57a05567",
      "name": "Google Sheets1",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "ZguDanSpMJxnanX2",
          "name": "0109 ACCOUNT"
        }
      }
    },
    {
      "parameters": {
        "public": true,
        "initialMessages": "Hi there! ðŸ‘‹\nMy name is Z-Bot. How can I assist you today?",
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.chatTrigger",
      "typeVersion": 1.1,
      "position": [
        -560,
        -60
      ],
      "id": "93bec3c7-3a3e-4676-8a3d-acd34a0a88e4",
      "name": "When chat message received",
      "webhookId": "719bba05-af72-4c34-90f8-4fa5e783e4bb"
    },
    {
      "parameters": {
        "documentId": {
          "__rl": true,
          "value": "1yFO23H-X-uAJob9JwsyHWohBWSYpOBN9uqbTxrhyHYY",
          "mode": "list",
          "cachedResultName": "FAQs- Z HOTELS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1yFO23H-X-uAJob9JwsyHWohBWSYpOBN9uqbTxrhyHYY/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": "gid=0",
          "mode": "list",
          "cachedResultName": "Sheet1",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1yFO23H-X-uAJob9JwsyHWohBWSYpOBN9uqbTxrhyHYY/edit#gid=0"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheetsTool",
      "typeVersion": 4.5,
      "position": [
        -80,
        160
      ],
      "id": "ccc80a5d-64ae-47b0-ba82-192391b0bf2f",
      "name": "Google Sheets",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "ZguDanSpMJxnanX2",
          "name": "0109 ACCOUNT"
        }
      }
    }
  ],
  "pinData": {},
  "connections": {
    "OpenAI Chat Model": {
      "ai_languageModel": [
        [
          {
            "node": "AI Agent",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Window Buffer Memory": {
      "ai_memory": [
        [
          {
            "node": "AI Agent",
            "type": "ai_memory",
            "index": 0
          }
        ]
      ]
    },
    "Google Sheets1": {
      "ai_tool": [
        [
          {
            "node": "AI Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "When chat message received": {
      "main": [
        [
          {
            "node": "AI Agent",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Google Sheets": {
      "ai_tool": [
        [
          {
            "node": "AI Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    }
  },
  "active": true,
  "settings": {
    "executionOrder": "v1"
  },
  "versionId": "3d51adfa-a891-44f2-81c5-a93393a399e8",
  "meta": {
    "templateCredsSetupCompleted": true,
    "instanceId": "8354774e1898e06011426a15f884fa347462adce6a994ded9e7559a4799d50a6"
  },
  "id": "Qkizfz8mTpoVMubE",
  "tags": []
}